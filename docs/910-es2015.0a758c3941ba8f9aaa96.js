(self.webpackChunkpersonal_website=self.webpackChunkpersonal_website||[]).push([[910],{1718:function(t,e,n){"use strict";n.d(e,{Ue:function(){return i},U_:function(){return s},G3:function(){return u},U1:function(){return c},Iu:function(){return a},p4:function(){return o}});var r="undefined"!=typeof Float32Array?Float32Array:Array;function i(){var t=new r(16);return r!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function o(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function s(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],l=e[8],h=e[9],f=e[10],d=e[11],g=e[12],m=e[13],p=e[14],b=e[15],_=n*a-r*s,v=n*c-i*s,w=n*u-o*s,y=r*c-i*a,A=r*u-o*a,C=i*u-o*c,P=l*m-h*g,M=l*p-f*g,x=l*b-d*g,O=h*p-f*m,T=h*b-d*m,Z=f*b-d*p,U=_*Z-v*T+w*O+y*x-A*M+C*P;return U?(t[0]=(a*Z-c*T+u*O)*(U=1/U),t[1]=(i*T-r*Z-o*O)*U,t[2]=(m*C-p*A+b*y)*U,t[3]=(f*A-h*C-d*y)*U,t[4]=(c*x-s*Z-u*M)*U,t[5]=(n*Z-i*x+o*M)*U,t[6]=(p*w-g*C-b*v)*U,t[7]=(l*C-f*w+d*v)*U,t[8]=(s*T-a*x+u*P)*U,t[9]=(r*x-n*T-o*P)*U,t[10]=(g*A-m*w+b*_)*U,t[11]=(h*w-l*A-d*_)*U,t[12]=(a*M-s*O-c*P)*U,t[13]=(n*O-r*M+i*P)*U,t[14]=(m*v-g*y-p*_)*U,t[15]=(l*y-h*v+f*_)*U,t):null}function a(t,e,n){var r,i,o,s,a,c,u,l,h,f,d,g,m=n[0],p=n[1],b=n[2];return e===t?(t[12]=e[0]*m+e[4]*p+e[8]*b+e[12],t[13]=e[1]*m+e[5]*p+e[9]*b+e[13],t[14]=e[2]*m+e[6]*p+e[10]*b+e[14],t[15]=e[3]*m+e[7]*p+e[11]*b+e[15]):(i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],h=e[8],f=e[9],d=e[10],g=e[11],t[0]=r=e[0],t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=c,t[6]=u,t[7]=l,t[8]=h,t[9]=f,t[10]=d,t[11]=g,t[12]=r*m+a*p+h*b+e[12],t[13]=i*m+c*p+f*b+e[13],t[14]=o*m+u*p+d*b+e[14],t[15]=s*m+l*p+g*b+e[15]),t}function c(t,e,n,r){var i,o,s,a,c,u,l,h,f,d,g,m,p,b,_,v,w,y,A,C,P,M,x,O,T=r[0],Z=r[1],U=r[2],k=Math.hypot(T,Z,U);return k<1e-6?null:(T*=k=1/k,Z*=k,U*=k,i=Math.sin(n),o=Math.cos(n),c=e[1],u=e[2],l=e[3],f=e[5],d=e[6],g=e[7],p=e[9],b=e[10],_=e[11],A=T*Z*(s=1-o)-U*i,C=Z*Z*s+o,P=U*Z*s+T*i,M=T*U*s+Z*i,x=Z*U*s-T*i,O=U*U*s+o,t[0]=(a=e[0])*(v=T*T*s+o)+(h=e[4])*(w=Z*T*s+U*i)+(m=e[8])*(y=U*T*s-Z*i),t[1]=c*v+f*w+p*y,t[2]=u*v+d*w+b*y,t[3]=l*v+g*w+_*y,t[4]=a*A+h*C+m*P,t[5]=c*A+f*C+p*P,t[6]=u*A+d*C+b*P,t[7]=l*A+g*C+_*P,t[8]=a*M+h*x+m*O,t[9]=c*M+f*x+p*O,t[10]=u*M+d*x+b*O,t[11]=l*M+g*x+_*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function u(t,e,n,r,i){var o,s=1/Math.tan(e/2);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(t[10]=(i+r)*(o=1/(r-i)),t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}Math,Math,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},2072:function(t,e,n){"use strict";n.d(e,{N:function(){return c}});var r=n(4762),i=n(7716),o=n(665),s=n(8583);function a(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",14),i.NdJ("click",function(){const e=i.CHM(t).$implicit;return i.oxw().toggleCell(e.row,e.column)}),i.qZA()}if(2&t){const t=e.$implicit;i.Tol(t.className),i.Q6J("id",t.id)}}let c=(()=>{class t{constructor(){this.gridElements=[],this.playStatus=!1,this.statusDisplay="Stopped"}getIndex(t,e){return t*this.width+e}loadMemoryModule(){return(0,r.mG)(this,void 0,void 0,function*(){return yield n.e(592).then(n.bind(n,167))})}loadUniverseModule(){return(0,r.mG)(this,void 0,void 0,function*(){return yield Promise.all([n.e(592),n.e(471)]).then(n.bind(n,1471))})}ngOnInit(){const t=[];t.push(this.loadMemoryModule()),t.push(this.loadUniverseModule()),Promise.all(t).then(([t,e])=>{this.memory=t.memory,this.universeModule=e,this.universe=this.universeModule.Universe.new(64,64),this.width=this.universe.width(),this.height=this.universe.height();const n=this.universe.cells(),r=new Uint8Array(this.memory.buffer,n,this.width*this.height);for(let i=0;i<this.height;i++)for(let t=0;t<this.width;t++)this.gridElements.push({id:`row-${i}-column-${t}`,row:i,column:t,className:0===r[this.getIndex(i,t)]?"dead":"alive"})})}toggleCell(t,e){console.log(`toggled: ${t}, ${e}`);const n=this.universe.cells(),r=new Uint8Array(this.memory.buffer,n,this.width*this.height);r[this.getIndex(t,e)]===this.universeModule.Cell.Alive?r[this.getIndex(t,e)]=this.universeModule.Cell.Dead:r[this.getIndex(t,e)]=this.universeModule.Cell.Alive,this.playStatus||this.drawCells()}drawCells(){const t=this.universe.cells(),e=new Uint8Array(this.memory.buffer,t,this.width*this.height);for(let n=0;n<this.height;n++)for(let t=0;t<this.width;t++){const r=this.getIndex(n,t);this.gridElements[r].className=0===e[r]?"dead":"alive"}}randomizeCells(){const t=this.universe.cells(),e=new Uint8Array(this.memory.buffer,t,this.width*this.height);for(let n=0;n<this.height;n++)for(let t=0;t<this.width;t++)0===Math.floor(2*Math.random())?e[this.getIndex(n,t)]=this.universeModule.Cell.Dead:e[this.getIndex(n,t)]=this.universeModule.Cell.Alive;this.drawCells()}clearGrid(){const t=this.universe.cells(),e=new Uint8Array(this.memory.buffer,t,this.width*this.height);for(let n=0;n<this.height;n++)for(let t=0;t<this.width;t++)e[this.getIndex(n,t)]=this.universeModule.Cell.Dead;this.drawCells()}renderLoop(){this.playStatus&&(this.universe.tick(),this.drawCells(),requestAnimationFrame(()=>this.renderLoop()))}togglePlay(){this.playStatus=!this.playStatus,this.playStatus?(this.statusDisplay="Started",requestAnimationFrame(()=>this.renderLoop())):this.statusDisplay="Stopped"}generatePattern(){"gosper-glider-gun"===this.patternToGenerate?this.drawGosperGliderGun():"hammerhead"===this.patternToGenerate?this.drawHammerhead():console.log("no pattern selected")}drawGosperGliderGun(){this.clearGrid();const t=this.universe.cells(),e=new Uint8Array(this.memory.buffer,t,this.width*this.height);[[1,6],[2,6],[1,7],[2,7],[13,4],[14,4],[12,5],[11,6],[11,7],[11,8],[12,9],[13,10],[14,10],[15,7],[16,5],[17,6],[17,7],[17,8],[16,9],[18,7],[21,4],[21,5],[21,6],[22,4],[22,5],[22,6],[23,3],[23,7],[25,2],[25,3],[25,7],[25,8],[35,4],[35,5],[36,4],[36,5]].forEach(t=>{e[this.getIndex(t[1],t[0])]=this.universeModule.Cell.Alive}),this.drawCells()}drawHammerhead(){this.clearGrid();const t=this.universe.cells(),e=new Uint8Array(this.memory.buffer,t,this.width*this.height);[[10,9],[11,9],[9,10],[10,10],[12,10],[13,10],[14,10],[10,11],[11,11],[12,11],[13,11],[14,11],[11,12],[12,12],[13,12],[14,12],[15,12],[15,13],[16,13],[17,13],[15,14],[16,14],[17,14],[15,15],[16,15],[17,15],[15,18],[16,18],[17,18],[15,19],[16,19],[17,19],[15,20],[16,20],[17,20],[11,21],[12,21],[13,21],[14,21],[15,21],[10,22],[11,22],[12,22],[13,22],[14,22],[10,24],[11,24],[9,23],[10,23],[12,23],[13,23],[14,23],[19,13],[19,15],[20,15],[21,15],[19,16],[20,16],[19,17],[20,17],[19,18],[20,18],[21,18],[19,20],[21,12],[21,13],[22,13],[22,14],[21,20],[21,21],[22,20],[22,19],[23,12],[24,12],[25,12],[26,12],[27,11],[27,9],[25,8],[23,9],[22,10],[22,11],[23,21],[24,21],[25,21],[26,21],[27,22],[27,24],[25,25],[23,24],[22,23],[22,22]].forEach(t=>{e[this.getIndex(t[1],t[0])]=this.universeModule.Cell.Alive}),this.drawCells()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-game-of-life"]],decls:43,vars:3,consts:[[1,"description"],["href","https://rustwasm.github.io/book/game-of-life/implementing.html"],["href","https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life"],["for","patterns"],["name","Patterns","id","patterns",3,"ngModel","ngModelChange"],["value","gosper-glider-gun"],["value","hammerhead"],["type","button",1,"btn","btn-primary",3,"click"],[1,"game-of-life"],[1,"game-of-life-grid"],[3,"id","class","click",4,"ngFor","ngForOf"],[1,"button-row"],["type","button",1,"btn","btn-random",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[3,"id","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"h3"),i._uU(2,"Conway's Game of Life using Rust/WebAssembly"),i.qZA(),i.TgZ(3,"p"),i._uU(4," The engine for setting up the universe for this implementation of Conway's Game of Life is written in Rust and compiled to WebAssembly. Thanks to "),i.TgZ(5,"a",1),i._uU(6,"this book"),i.qZA(),i._uU(7," for the Rust/WASM tutorial. The JS/HTML for this project is nearly all my own. "),i.qZA(),i.TgZ(8,"h4"),i._uU(9,"Instructions"),i.qZA(),i.TgZ(10,"p"),i._uU(11," See "),i.TgZ(12,"a",2),i._uU(13,"Conway's Game of Life"),i.qZA(),i._uU(14," for more information on the rules of the game. "),i.qZA(),i.TgZ(15,"ul"),i.TgZ(16,"li"),i._uU(17,"Click the Randomize button to randomize the state of each cell in the universe"),i.qZA(),i.TgZ(18,"li"),i._uU(19,"Click the Clear button to reset the universe to every cell being dead"),i.qZA(),i.TgZ(20,"li"),i._uU(21,"Click on an individual cell to toggle its state"),i.qZA(),i.qZA(),i.TgZ(22,"label",3),i._uU(23,"Generate a pattern:"),i.qZA(),i.TgZ(24,"select",4),i.NdJ("ngModelChange",function(t){return e.patternToGenerate=t}),i.TgZ(25,"option",5),i._uU(26,"Gosper's Glider Gun"),i.qZA(),i.TgZ(27,"option",6),i._uU(28,"Hammerhead Spaceship"),i.qZA(),i.qZA(),i.TgZ(29,"button",7),i.NdJ("click",function(){return e.generatePattern()}),i._uU(30,"Generate"),i.qZA(),i.qZA(),i.TgZ(31,"div",8),i.TgZ(32,"div",9),i.YNc(33,a,1,4,"div",10),i.qZA(),i.TgZ(34,"div",11),i.TgZ(35,"button",7),i.NdJ("click",function(){return e.togglePlay()}),i._uU(36,"Play/Pause"),i.qZA(),i.TgZ(37,"button",12),i.NdJ("click",function(){return e.randomizeCells()}),i._uU(38,"Randomize"),i.qZA(),i.TgZ(39,"button",13),i.NdJ("click",function(){return e.clearGrid()}),i._uU(40,"Clear"),i.qZA(),i.TgZ(41,"div"),i._uU(42),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(24),i.Q6J("ngModel",e.patternToGenerate),i.xp6(9),i.Q6J("ngForOf",e.gridElements),i.xp6(9),i.Oqu(e.statusDisplay))},directives:[o.EJ,o.JJ,o.On,o.YN,o.Kr,s.sg],styles:["[_nghost-%COMP%]{margin:1em;display:flex;flex-direction:row;justify-content:space-around}.description[_ngcontent-%COMP%]{margin:1em}.game-of-life[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.game-of-life-grid[_ngcontent-%COMP%]{display:grid;grid-auto-rows:auto;grid-auto-columns:auto;grid-template-columns:repeat(64,10px);grid-template-rows:repeat(64,10px);grid-gap:2px}.game-of-life-grid[_ngcontent-%COMP%]   .alive[_ngcontent-%COMP%]{background:var(--accent-purple)}.game-of-life-grid[_ngcontent-%COMP%]   .dead[_ngcontent-%COMP%]{background:#fff}.button-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:.5em}.button-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.5em;align-self:center}.button-row[_ngcontent-%COMP%]   .btn-random[_ngcontent-%COMP%]{background-color:var(--accent-blue);color:var(--primary-white)}.button-row[_ngcontent-%COMP%]   .btn-random[_ngcontent-%COMP%]:hover{background-color:var(--accent-blue-dark)}"]}),t})()},5276:function(t,e,n){"use strict";n.a(t,async function(t){n.d(e,{r:function(){return a}});var r=n(1162),i=n(9173),o=n(7716),s=t([i,r]);[i,r]=s.then?await s:s;let a=(()=>{class t{constructor(){this.colors=[],this.numberOfElements=1e3}ngOnInit(){this.universe=r.Pd.new(),this.canvas=document.getElementById("gravity-canvas-one"),this.ctx=this.canvas.getContext("2d"),this.ctx.canvas.width=window.innerWidth,this.ctx.canvas.height=window.innerHeight;for(let t=0;t<this.numberOfElements;t++)this.colors.push("#"+Math.floor(16777215*(.5*Math.random()+.5)).toString(16));setInterval(()=>{this.universe.tick(),this.render()},10)}render(){this.ctx.fillStyle="rgba(0, 0, 0, 0.15)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);const t=new Float64Array(i.memory.buffer,this.universe.get_positions_ptr(),3*this.numberOfElements),e=new Float64Array(i.memory.buffer,this.universe.get_masses_ptr(),this.numberOfElements),n=[];for(let r=0;r<this.numberOfElements;r++){const i=Array.from(t.slice(r,r+3));n.push(i),this.ctx.fillStyle=this.colors[r],this.ctx.fillRect(i[0]*this.canvas.width/4+this.canvas.width/2,i[1]*this.canvas.height/4+this.canvas.height/2,e[r]/1*10,e[r]/1*10)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-gravity"]],decls:1,vars:0,consts:[["id","gravity-canvas-one"]],template:function(t,e){1&t&&o._UZ(0,"canvas",0)},styles:[""]}),t})()})},3075:function(t,e,n){"use strict";n.a(t,async function(t){n.d(e,{J:function(){return h}});var r=n(1162),i=n(9173),o=n(1727),s=n(1626),a=n(1718),c=n(7716),u=n(3378),l=t([i,r]);[i,r]=l.then?await l:l;let h=(()=>{class t{constructor(t){this.webGlService=t,this.startX=0,this.mousedown=!1,this.startRotation=0,this.numberOfParticles=1e3,this.colors=[],this.particleColors=[],this.cubeRotation=0,this.cubeVertexPositions=[-.1,-.1,.1,.1,-.1,.1,.1,.1,.1,-.1,.1,.1,-.1,-.1,-.1,-.1,.1,-.1,.1,.1,-.1,.1,-.1,-.1,-.1,.1,-.1,-.1,.1,.1,.1,.1,.1,.1,.1,-.1,-.1,-.1,-.1,.1,-.1,-.1,.1,-.1,.1,-.1,-.1,.1,.1,-.1,-.1,.1,.1,-.1,.1,.1,.1,.1,-.1,.1,-.1,-.1,-.1,-.1,-.1,.1,-.1,.1,.1,-.1,.1,-.1],this.faceColors=[],this.baseIndices=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],this.cubeNormals=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]}ngOnInit(){this.universe=r.Pd.new();for(let r=0;r<this.numberOfParticles;r++)this.particleColors.push([.5*Math.random()+.25,.5*Math.random()+.25,.5*Math.random()+.25,1]);if(this.canvas=document.getElementById("gravity-canvas-two"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.gl=this.canvas.getContext("webgl"),null===this.gl)return void alert("Unable to initialize WebGL. Your browser or machine may not support it.");this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const t=this.webGlService.initShaderProgram(this.gl,s.Z,o.Z);this.programInfo={program:t,attribLocations:{vertexPosition:this.gl.getAttribLocation(t,"aVertexPosition"),vertexColor:this.gl.getAttribLocation(t,"aVertexColor"),vertexNormal:this.gl.getAttribLocation(t,"aVertexNormal")},uniformLocations:{projectionMatrix:this.gl.getUniformLocation(t,"uProjectionMatrix"),modelViewMatrix:this.gl.getUniformLocation(t,"uModelViewMatrix"),normalMatrix:this.gl.getUniformLocation(t,"uNormalMatrix")}};const e=new Float64Array(i.memory.buffer,this.universe.get_positions_ptr(),3*this.numberOfParticles),n=new Float64Array(i.memory.buffer,this.universe.get_masses_ptr(),this.numberOfParticles),a=[];for(let r=0;r<this.numberOfParticles;r++)a.push(Array.from(e.slice(r,r+3)));const c=this.getParticleVertices(a,n);this.colors=this.getFaceColors();const u=this.baseIndices.length;for(let r=1;r<this.numberOfParticles;r++)for(let t=0;t<u;t++)this.baseIndices.push(this.baseIndices[t]+24*r);const l=this.cubeNormals.length;for(let r=1;r<this.numberOfParticles;r++)for(let t=0;t<l;t++)this.cubeNormals.push(this.cubeNormals[t]);document.addEventListener("mousedown",t=>{this.startX=t.clientX,this.mousedown=!0}),document.addEventListener("mousemove",t=>{this.mousedown&&(this.cubeRotation=this.startRotation+(t.clientX-this.startX)/(this.canvas.width/10))}),document.addEventListener("mouseup",t=>{this.mousedown=!1,this.startRotation=this.cubeRotation}),this.buffers=this.webGlService.initBuffers(this.gl,c,this.colors,this.baseIndices,this.cubeNormals),this.then=0,requestAnimationFrame(this.render.bind(this))}getParticleVertices(t,e){const n=[];return t.forEach((t,r)=>{this.cubeVertexPositions.forEach((i,o)=>{switch(o%3){case 0:n.push(t[0]+i*e[r]/.5);break;case 1:n.push(t[1]+i*e[r]/.5);break;case 2:n.push(t[2]+i*e[r]/.5)}})}),n}getFaceColors(){for(let e=0;e<this.numberOfParticles;e++)for(let t=0;t<6;t++)this.faceColors.push(this.particleColors[e]);let t=[];for(let e=0;e<this.faceColors.length;++e){const n=this.faceColors[e];t=t.concat(n,n,n,n)}return t}render(t){this.universe.tick();const e=new Float64Array(i.memory.buffer,this.universe.get_positions_ptr(),3*this.numberOfParticles),n=new Float64Array(i.memory.buffer,this.universe.get_masses_ptr(),this.numberOfParticles),r=[];for(let i=0;i<this.numberOfParticles;i++)r.push(Array.from(e.slice(i,i+3)));const o=this.getParticleVertices(r,n);this.buffers=this.webGlService.initBuffers(this.gl,o,this.colors,this.baseIndices,this.cubeNormals);const s=(t*=.001)-this.then;this.then=t,this.drawScene(this.gl,this.programInfo,this.buffers,s),requestAnimationFrame(this.render.bind(this))}drawScene(t,e,n,r){t.clearColor(0,0,0,1),t.clearDepth(1),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);const i=45*Math.PI/180,o=t.canvas.clientWidth/t.canvas.clientHeight,s=a.Ue();a.G3(s,i,o,.1,100);const c=a.Ue();a.Iu(c,c,[-0,0,-6]),a.U1(c,c,.2,[1,0,0]),a.U1(c,c,.2*this.cubeRotation,[0,1,0]);const u=a.Ue();a.U_(u,c),a.p4(u,u);{const r=3,i=t.FLOAT,o=!1,s=0,a=0;t.bindBuffer(t.ARRAY_BUFFER,n.position),t.vertexAttribPointer(e.attribLocations.vertexPosition,r,i,o,s,a),t.enableVertexAttribArray(e.attribLocations.vertexPosition)}{const r=4,i=t.FLOAT,o=!1,s=0,a=0;t.bindBuffer(t.ARRAY_BUFFER,n.color),t.vertexAttribPointer(e.attribLocations.vertexColor,r,i,o,s,a),t.enableVertexAttribArray(e.attribLocations.vertexColor)}t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indices);{const r=3,i=t.FLOAT,o=!1,s=0,a=0;t.bindBuffer(t.ARRAY_BUFFER,n.normal),t.vertexAttribPointer(e.attribLocations.vertexNormal,r,i,o,s,a),t.enableVertexAttribArray(e.attribLocations.vertexNormal)}t.useProgram(e.program),t.uniformMatrix4fv(e.uniformLocations.projectionMatrix,!1,s),t.uniformMatrix4fv(e.uniformLocations.modelViewMatrix,!1,c),t.uniformMatrix4fv(e.uniformLocations.normalMatrix,!1,u),t.drawElements(t.TRIANGLES,36*this.numberOfParticles,t.UNSIGNED_SHORT,0)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(u.Q))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-gravity"]],decls:3,vars:0,consts:[["id","gravity-canvas-two"]],template:function(t,e){1&t&&(c.TgZ(0,"p"),c._uU(1,"Click and drag to rotate!"),c.qZA(),c._UZ(2,"canvas",0))},styles:["p[_ngcontent-%COMP%]{background-color:var(--primary-black);color:var(--primary-white);margin-bottom:0;font-size:2em;padding:.25em 0 0 1em}"]}),t})()})},5852:function(t,e,n){"use strict";n.d(e,{l:function(){return c}});var r=n(4762),i=n(7716),o=n(665),s=n(8583);function a(t,e){if(1&t&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.ALo(5,"number"),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.ALo(8,"number"),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.xp6(2),i.Oqu(t.numberOfPrimes),i.xp6(2),i.Oqu(i.xi3(5,3,t.wasmTime,".2")),i.xp6(3),i.Oqu(i.xi3(8,6,t.jsTime,".2"))}}let c=(()=>{class t{constructor(){this.numberOfPrimes=1e3,this.simulations=[]}ngOnInit(){this.loadModule().then(t=>{this.wasmPrimes=t}).then(()=>{this.runSimulation()})}loadModule(){return(0,r.mG)(this,void 0,void 0,function*(){return yield n.e(643).then(n.bind(n,3643))})}runSimulation(){const t=performance.now(),e=(this.wasmPrimes.sieve_of_eratosthenes(this.numberOfPrimes),performance.now()),n=(this.sieve_of_eratosthenes(this.numberOfPrimes),performance.now());this.simulations.push({numberOfPrimes:this.numberOfPrimes,wasmTime:e-t,jsTime:n-e})}clearRuns(){this.simulations=[]}sieve_of_eratosthenes(t){const e=[],n=[];let r,i;for(r=2;r<=t;++r)if(!e[r])for(n.push(r),i=r<<1;i<=t;i+=r)e[i]=!0;return n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-primes"]],decls:25,vars:2,consts:[[1,"primes"],[1,"description"],[1,"input-line"],["for","calculate-primes-input"],["id","calculate-primes-input","type","number",1,"form-control","app-input",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["aria-describedby","prime simulations",1,"app-table","simulation-table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h1"),i._uU(3,"Testing WebAssembly Performance"),i.qZA(),i.TgZ(4,"p"),i._uU(5," This is a test of how a Rust/WebAssembly implementation of the Sieve of Eratosthenes performs against the same algorithm implemented in JavaScript. Input a number of primes you'd like to calculate and both implementations will find those primes, then output the time it took into the table below. "),i.qZA(),i.qZA(),i.TgZ(6,"div",2),i.TgZ(7,"label",3),i._uU(8,"Number of Primes: "),i.qZA(),i.TgZ(9,"input",4),i.NdJ("ngModelChange",function(t){return e.numberOfPrimes=t}),i.qZA(),i.TgZ(10,"button",5),i.NdJ("click",function(){return e.runSimulation()}),i._uU(11,"Run"),i.qZA(),i.TgZ(12,"button",6),i.NdJ("click",function(){return e.clearRuns()}),i._uU(13,"Clear"),i.qZA(),i.qZA(),i.TgZ(14,"table",7),i.TgZ(15,"thead"),i.TgZ(16,"tr"),i.TgZ(17,"th",8),i._uU(18,"Number of Primes"),i.qZA(),i.TgZ(19,"th",8),i._uU(20,"Time (ms) using WebAssembly"),i.qZA(),i.TgZ(21,"th",8),i._uU(22,"Time (ms) using JavaScript"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(23,"tbody"),i.YNc(24,a,9,9,"tr",9),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(9),i.Q6J("ngModel",e.numberOfPrimes),i.xp6(15),i.Q6J("ngForOf",e.simulations))},directives:[o.wV,o.Fj,o.JJ,o.On,s.sg],pipes:[s.JJ],styles:[".primes[_ngcontent-%COMP%]{margin:2em}.input-line[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.input-line[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{align-self:flex-end}.input-line[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.input-line[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin-right:.25em}#calculate-primes-input[_ngcontent-%COMP%]{margin:0 .5em}.simulation-table[_ngcontent-%COMP%]{margin-top:1em;width:100%}.simulation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .simulation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.25em .5em}label[_ngcontent-%COMP%]{font-family:var(--font-header)}.description[_ngcontent-%COMP%]{margin-top:1em}.description[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}"]}),t})()},2005:function(t,e,n){"use strict";n.d(e,{e:function(){return c}});var r=n(4330),i=n(7716),o=n(674),s=n(8583);function a(t,e){if(1&t&&(i.TgZ(0,"li",2),i.TgZ(1,"a",3),i._uU(2),i.qZA(),i.qZA()),2&t){const t=e.$implicit;i.Q6J("ngbNavItem",t.link),i.xp6(1),i.Q6J("routerLink",t.link),i.xp6(1),i.Oqu(t.title)}}let c=(()=>{class t{constructor(t){this.router=t,this.links=[{title:"Game of Life",link:"life"},{title:"Primes",link:"primes"},{title:"Gravity 1",link:"gravity/one"},{title:"Gravity 2",link:"gravity/two"}]}ngOnInit(){this.checkForSpecificRoute(),this.currentPath=this.router.url.replace("/webassembly/",""),this.routerSubscription=this.router.events.subscribe(t=>{t instanceof r.m2&&(this.checkForSpecificRoute(),this.currentPath=t.url.replace("/webassembly/",""))})}checkForSpecificRoute(){"/webassembly"===this.router.url&&this.router.navigate([`${this.router.url}/${this.links[0].link}`])}ngOnDestroy(){this.routerSubscription.unsubscribe()}resetFocus(){window.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-webassembly"]],decls:3,vars:2,consts:[["ngbNav","","destroyOnHide","true",1,"nav-tabs",3,"activeId","navChange"],[3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavItem"],["ngbNavLink","",3,"routerLink"]],template:function(t,e){1&t&&(i.TgZ(0,"ul",0),i.NdJ("navChange",function(){return e.resetFocus()}),i.YNc(1,a,3,3,"li",1),i.qZA(),i._UZ(2,"router-outlet")),2&t&&(i.Q6J("activeId",e.currentPath),i.xp6(1),i.Q6J("ngForOf",e.links))},directives:[o.Pz,s.sg,r.lC,o.nv,o.Vx,r.yS],styles:['.nav-tabs[_ngcontent-%COMP%]{background-color:var(--accent-purple);border:none;z-index:var(--z-nav-tabs);padding-top:.25em;box-shadow:0 3px 5px var(--accent-purple-dark)}.nav-item[_ngcontent-%COMP%]{background-color:inherit;margin-right:.25em}.nav-link.active[_ngcontent-%COMP%]{background-color:var(--accent-purple-dark);color:var(--primary-white)}.nav-link[_ngcontent-%COMP%]{position:relative;color:var(--primary-white);border-radius:0;border:none;font-family:var(--font-header);text-decoration:none}.nav-link[_ngcontent-%COMP%]:focus, .nav-link[_ngcontent-%COMP%]:hover{outline:none;background-color:var(--accent-purple-dark)}.nav-link.active[_ngcontent-%COMP%]:after{position:absolute;inset:.2em;content:"";border-top:2px solid var(--primary-white);border-left:2px solid var(--primary-white);border-right:2px solid var(--primary-white)}.nav-link[_ngcontent-%COMP%]:before{border-bottom:2px solid var(--primary-white);content:"";position:absolute;inset:.2em;transform:scaleX(0);transition:transform .25s ease-in-out}.nav-link[_ngcontent-%COMP%]:focus:before, .nav-link[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}']}),t})()},2910:function(t,e,n){"use strict";n.a(t,async function(t){n.r(e),n.d(e,{WebassemblyModule:function(){return p}});var r=n(8583),i=n(4330),o=n(2005),s=n(2072),a=n(5276),c=n(3075),u=n(5852),l=n(3378),h=n(674),f=n(665),d=n(7716),g=t([c,a]);[c,a]=g.then?await g:g;const m=[{path:"",component:o.e,children:[{path:"life",component:s.N},{path:"primes",component:u.l},{path:"gravity/one",component:a.r},{path:"gravity/two",component:c.J}]}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[l.Q],imports:[[r.ez,f.u5,h.IJ,i.Bz.forChild(m)]]}),t})()})},3378:function(t,e,n){"use strict";n.d(e,{Q:function(){return i}});var r=n(7716);let i=(()=>{class t{initShaderProgram(t,e,n){const r=this.loadShader(t,t.VERTEX_SHADER,e),i=this.loadShader(t,t.FRAGMENT_SHADER,n),o=t.createProgram();return t.attachShader(o,r),t.attachShader(o,i),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)?o:(alert("Unable to initialize the shader program: "+t.getProgramInfoLog(o)),null)}loadShader(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(alert("An error occurred compiling the shaders: "+t.getShaderInfoLog(r)),t.deleteShader(r),null)}initBuffers(t,e,n,r,i){const o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW);const s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW);const a=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,a),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(r),t.STATIC_DRAW);const c=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,c),t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW),{position:s,normal:c,color:o,indices:a}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},1162:function(t,e,n){"use strict";n.a(t,async function(r){n.d(e,{Pd:function(){return p},pT:function(){return b},ug:function(){return _},u8:function(){return v},C2:function(){return w},cx:function(){return y},rY:function(){return A},Wl:function(){return C},UE:function(){return P},Im:function(){return M},dS:function(){return x},Oi:function(){return O},gl:function(){return T},qw:function(){return Z},m_:function(){return U},UL:function(){return k},tS:function(){return R},R$:function(){return F},md:function(){return S},IF:function(){return E},XP:function(){return q},zP:function(){return L},uQ:function(){return I},td:function(){return N},Ct:function(){return G},RV:function(){return B},iY:function(){return J},eY:function(){return V},Or:function(){return D},oH:function(){return Y}});var i=n(9173);t=n.hmd(t);var o=r([i]);i=(o.then?await o:o)[0];const s=new Array(32).fill(void 0);s.push(void 0,null,!0,!1);let a=s.length;function c(t){a===s.length&&s.push(s.length+1);const e=a;return a=s[e],s[e]=t,e}function u(t){return s[t]}let l=new("undefined"==typeof TextDecoder?(0,t.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let h=null;function f(){return null!==h&&h.buffer===i.memory.buffer||(h=new Uint8Array(i.memory.buffer)),h}function d(t,e){return l.decode(f().subarray(t,t+e))}function g(t,e){try{return t.apply(this,e)}catch(n){i.__wbindgen_exn_store(c(n))}}function m(t,e){return f().subarray(t/1,t/1+e)}class p{static __wrap(t){const e=Object.create(p.prototype);return e.ptr=t,e}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();i.__wbg_universe_free(t)}static new(){var t=i.universe_new();return p.__wrap(t)}to_string(){i.universe_to_string(this.ptr)}tick(){i.universe_tick(this.ptr)}get_positions_ptr(){return i.universe_get_positions_ptr(this.ptr)}get_masses_ptr(){return i.universe_get_masses_ptr(this.ptr)}}function b(t){return c(t)}function _(t){!function(t){u(t);!function(t){t<36||(s[t]=a,a=t)}(t)}(t)}function v(t,e,n){console.log(u(t),u(e),u(n))}function w(){return g(function(t,e){u(t).getRandomValues(u(e))},arguments)}function y(){return g(function(t,e,n){u(t).randomFillSync(m(e,n))},arguments)}function A(t){return c(u(t).process)}function C(t){const e=u(t);return"object"==typeof e&&null!==e}function P(t){return c(u(t).versions)}function M(t){return c(u(t).node)}function x(){return g(function(t,e){return c(n(1108)(d(t,e)))},arguments)}function O(t){return c(u(t).crypto)}function T(t){return c(u(t).msCrypto)}function Z(){return g(function(t,e){return c(u(t).call(u(e)))},arguments)}function U(t){return c(u(t))}function k(t,e){return c(new Function(d(t,e)))}function R(){return g(function(){return c(self.self)},arguments)}function F(){return g(function(){return c(window.window)},arguments)}function S(){return g(function(){return c(globalThis.globalThis)},arguments)}function E(){return g(function(){return c(global.global)},arguments)}function q(t){return void 0===u(t)}function L(t){return c(u(t).buffer)}function I(t){return u(t).length}function N(t){return c(new Uint8Array(u(t)))}function G(t,e,n){u(t).set(u(e),n>>>0)}function B(t){return c(new Uint8Array(t>>>0))}function J(t,e,n){return c(u(t).subarray(e>>>0,n>>>0))}function V(t){return"string"==typeof u(t)}function D(t,e){throw new Error(d(t,e))}function Y(){return c(i.memory)}})},1727:function(t,e){"use strict";e.Z="varying lowp vec4 vColor;\nvarying highp vec3 vLighting;\n\nvoid main(void) {\n    gl_FragColor = vec4(vColor.rgb * vLighting, vColor.a);\n}\n"},1626:function(t,e){"use strict";e.Z="attribute vec4 aVertexPosition;\nattribute vec3 aVertexNormal;\nattribute vec4 aVertexColor;\n\nuniform mat4 uNormalMatrix;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vLighting;\n\nvarying lowp vec4 vColor;\n\nvoid main(void) {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n    vColor = aVertexColor;\n\n    // Apply lighting effect\n    highp vec3 ambientLight = vec3(0.3, 0.3, 0.3);\n    highp vec3 directionalLightColor = vec3(1, 1, 1);\n    highp vec3 directionalVector = normalize(vec3(0.85, 0.8, 0.75));\n\n    highp vec4 transformedNormal = uNormalMatrix * vec4(aVertexNormal, 1.0);\n\n    highp float directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n    vLighting = ambientLight + (directionalLightColor * directional);\n}\n"},9173:function(t,e,n){"use strict";var r=function([r]){return n.v(e,t.id,"3b9202052ff293df9c85",{"./gravity_wasm_bg.js":{__wbindgen_number_new:r.pT,__wbindgen_object_drop_ref:r.ug,__wbg_log_0766524783eaff42:r.u8,__wbg_getRandomValues_98117e9a7e993920:r.C2,__wbg_randomFillSync_64cc7d048f228ca8:r.cx,__wbg_process_2f24d6544ea7b200:r.rY,__wbindgen_is_object:r.Wl,__wbg_versions_6164651e75405d4a:r.UE,__wbg_node_4b517d861cbcb3bc:r.Im,__wbg_modulerequire_3440a4bcf44437db:r.dS,__wbg_crypto_98fc271021c7d2ad:r.Oi,__wbg_msCrypto_a2cdb043d2bfe57f:r.gl,__wbg_call_ba36642bd901572b:r.qw,__wbindgen_object_clone_ref:r.m_,__wbg_newnoargs_9fdd8f3961dd1bee:r.UL,__wbg_self_bb69a836a72ec6e9:r.tS,__wbg_window_3304fc4b414c9693:r.R$,__wbg_globalThis_e0d21cabc6630763:r.md,__wbg_global_8463719227271676:r.IF,__wbindgen_is_undefined:r.XP,__wbg_buffer_9e184d6f785de5ed:r.zP,__wbg_length_2d56cb37075fcfb1:r.uQ,__wbg_new_e8101319e4cf95fc:r.td,__wbg_set_e8ae7b27314e8b98:r.Ct,__wbg_newwithlength_a8d1dbcbe703a5c6:r.RV,__wbg_subarray_901ede8318da52a6:r.iY,__wbindgen_is_string:r.eY,__wbindgen_throw:r.Or,__wbindgen_memory:r.oH}})};n.a(t,function(t){var e=t([n(1162)]);return e.then?e.then(r):r(e)},1)},1108:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=1108,t.exports=e}}]);